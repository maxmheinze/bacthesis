---
title: '**Short Summary of Bachelor Thesis Methodology**'
author: "Max Heinze"
date: "July 13, 2022"
output: pdf_document
papersize: a4
textsize: 12pt
urlcolor: MidnightBlue
---

# Data



## Mining Data

Mining Polygons are taken from Maus et al. and then further prepared together with Nightlight Data to construct a mining activity index (see below).

## Nightlight Data

VIIRS Nightlight Data is taken from the Earth Observation group (see <https://eogdata.mines.edu/products/vnl/#annual_v2>). I chose annually aggregated masked median values and then cropped the GeoTIFF files for further preparation and construction of the mining index (see below).

## Land Cover Data

Land Cover Data is taken from Copernicus (see <https://cds.climate.copernicus.eu/cdsapp#!/dataset/satellite-land-cover?tab=form>). I aggregated values to the following categories: cropland, tree cover, urban, water, and other vegetation. In principle, this data is given in percentages. 

## Socioeconomic Data

Socioeconomic data is taken from Indonesia's national statistics office. They publish city/regency level figures of expenditure per capita, expected schooling, mean schooling and life expectancy (since they also publish a HDI figure for each city/regency).

# Construction of Mining Index

I extracted night light data from polygons that equal the mining polygons from the mining data, plus a 10 arc second buffer zone. From all data points that fall within each buffered polygon, I take the median and then divide the data set by its standard deviation. For all means that have night light activity of 0 for all years, I apply the median of all mines that _do_ have nightlight activity, per year, as a proxy for their night light activity. I then calculate a mining index for each mine by multiplying the mining area from the mining dataset with the night light figure for every year that I have aggregated.

I then assign each mine to a city/regency, for which I use the centroid as reference point in order to be able to uniquely assign them. The individual mining indices for all mines are then added together at the city/regency level to get one aggregated value per city/regency. In total, there are 554 c/r-year observations with a mining index and 4052 without. I assign a mining value of 0 to the latter. In addition, I construct a mining dummy that is 1 if the mining index $\neq 0$ and 0 otherwise.

# Modeling

```{r, include=FALSE}
rm(list = ls())

pacman::p_load(
  tidyverse,
  plm
)

load("/Users/maxheinze 1/Documents/GitHub/bacthesis/data/data_full.Rdata")
```

I have up to now run the following models:

### Model 1: Tree cover area as dependent, mining value as independent variable

```{r, echo=FALSE}
model1 <- plm(area_tree_cover ~ mining_value + expenditure + exp_schooling + life_exp_birth,
    data = data_full,
    effect = "twoway", 
    model = "within",
    index = c("cr_code", "year"))

summary(model1)
```

### Model 2: Tree cover area as dependent, mining dummy as independent variable

```{r, echo=FALSE}
model2 <- plm(area_tree_cover ~ mining_dummy + expenditure + exp_schooling + life_exp_birth,
              data = data_full,
              effect = "twoway", 
              model = "within",
              index = c("cr_code", "year"))

summary(model2)
```

### Model 3: Tree cover percentage as dependent, mining value as independent variable

```{r, echo=FALSE}
model3 <- plm(tree_cover ~ mining_value + expenditure + exp_schooling + life_exp_birth,
              data = data_full,
              effect = "twoway", 
              model = "within",
              index = c("cr_code", "year"))

summary(model3)
```

### Model 4: Tree cover percentage as dependent, mining dummy as independent variable

```{r, echo=FALSE}
model4 <- plm(tree_cover ~ mining_dummy + expenditure + exp_schooling + life_exp_birth,
              data = data_full,
              effect = "twoway", 
              model = "within",
              index = c("cr_code", "year"))

summary(model4)
```


There is a significant effect of the mining index on tree cover percentage, and there is a significant effect of the mining dummy on both tree cover area and tree cover percentage. I am still not sure on which combination to settle -- or if I should report all of them, as they yield different interpretations. For the "plain" panel model part, this would be all that I have in terms of models. Ideally, I had planned to then try a spatial model building on these, but I do not know how labor intensive this step is and if this is still viable given the time constraint. 


